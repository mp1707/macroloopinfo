<!DOCTYPE html>
<html lang="en">
  <meta charset="utf-8" />
  <title>Support / Hilfe – MacroLoop</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
    }

    main {
      max-width: 720px;
      margin: 40px auto;
      padding: 0 20px;
      font: 16px/1.6 system-ui;
    }

    .language-toggle {
      display: flex;
      gap: 8px;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 2px solid #e5e5e5;
    }

    .language-toggle button {
      padding: 8px 16px;
      border: 2px solid #e5e5e5;
      background: white;
      cursor: pointer;
      border-radius: 4px;
      font: 14px system-ui;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .language-toggle button.active {
      background: #333;
      color: white;
      border-color: #333;
    }

    .language-toggle button:hover:not(.active) {
      border-color: #333;
    }

    .language-content {
      display: none;
    }

    .language-content.active {
      display: block;
    }

    h1, h2 {
      margin-top: 1.5em;
      margin-bottom: 0.5em;
    }

    h1 {
      margin-top: 0;
    }

    h2 {
      font-size: 1.1em;
    }

    ul, ol {
      margin: 0.5em 0;
      padding-left: 1.5em;
    }

    li {
      margin: 0.3em 0;
    }

    a {
      color: #0066cc;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    hr {
      margin: 2em 0;
      border: none;
      border-top: 1px solid #e5e5e5;
    }
  </style>

  <main>
    <div class="language-toggle">
      <button class="active" data-lang="en">English</button>
      <button data-lang="de">Deutsch</button>
    </div>

    <!-- English Version -->
    <div id="en-content" class="language-content active">
      <h1>Support</h1>
      <p>Help & contact for <b>MacroLoop</b>.</p>

      <h2>Contact</h2>
      <p>
        Email:
        <a href="mailto:mpapps@web.de">mpapps@web.de</a>
      </p>

      <h2>FAQ</h2>
      <ul>
        <li>
          <b>Where is my data?</b> Food logs stay on device. Optional photos are
          stored briefly in a private Supabase bucket and auto-deleted within ~1
          h.
        </li>
        <li>
          <b>How do I delete everything?</b> Delete logs in-app or uninstall.
          Server-side photos auto-delete; we don't keep accounts or profiles.
        </li>
        <li><b>Tracking?</b> None – no analytics/ads/trackers.</li>
      </ul>

      <p>
        <a href="privacy-policy.html">Privacy Policy</a> ·
        <a href="impressum.html">Legal Notice</a>
      </p>
    </div>

    <!-- German Version -->
    <div id="de-content" class="language-content">
      <h1>Support</h1>
      <p>Hilfe & Kontakt für <b>MacroLoop</b>.</p>

      <h2>Kontakt</h2>
      <p>
        E-Mail:
        <a href="mailto:mpapps@web.de">mpapps@web.de</a>
      </p>

      <h2>FAQ</h2>
      <ul>
        <li>
          <b>Wo liegen meine Daten?</b> Food-Logs liegen nur auf deinem Gerät.
          Optionale Fotos werden kurzzeitig in einem privaten Supabase-Bucket
          gespeichert und binnen ~1 h automatisch gelöscht.
        </li>
        <li>
          <b>Wie lösche ich alle Daten?</b> Lösche deine Logs in der App oder
          entferne die App. Serverseitig gespeicherte Fotos werden automatisiert
          gelöscht; wir speichern keine Konten oder Profile.
        </li>
        <li><b>Kein Tracking?</b> Korrekt – keine Analytics/Ads/Tracker.</li>
      </ul>

      <p>
        <a href="privacy-policy.html">Datenschutzerklärung</a> ·
        <a href="impressum.html">Impressum</a>
      </p>
    </div>
  </main>

  <script>
    // Language toggle functionality
    const languageButtons = document.querySelectorAll('.language-toggle button');

    languageButtons.forEach(button => {
      button.addEventListener('click', function() {
        const selectedLang = this.getAttribute('data-lang');

        // Update active button
        languageButtons.forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');

        // Update active content
        document.querySelectorAll('.language-content').forEach(content => {
          content.classList.remove('active');
        });
        document.getElementById(selectedLang + '-content').classList.add('active');

        // Update page language attribute
        document.documentElement.lang = selectedLang;

        // Save preference to localStorage
        localStorage.setItem('preferredLanguage', selectedLang);
      });
    });

    // Restore user's language preference
    const savedLanguage = localStorage.getItem('preferredLanguage') || 'en';
    if (savedLanguage !== 'en') {
      document.querySelector(`[data-lang="${savedLanguage}"]`).click();
    }
  </script>
</html>
